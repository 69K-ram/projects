<html>

  <style>
    html {
      height: 100%;
      margin: 0;
    }

    .box {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 1;
    }


    .canvas {
      width: 100%;
      height: 100%;
    }

  </style>
  
    <div class="box">
      <canvas class="canvas" id="canvas"></canvas>
    </div>

</html>

<script>

var throttle = false;
var brakes = false;
var steering = 0; // -1, 0, 1


document.addEventListener("keydown", function (event) {
  if (event.defaultPrevented) {
    return; // Should do nothing if the default action has been cancelled
  }
  var handled = false;
  if (event.key !== undefined) {
    handled = true;
    if (event.key =='w' || event.key = 'W') { throttle = true; } 
    if (event.key =='s' || event.key = 'S') { brakes = true; }
    if (event.key =='a' || event.key = 'A') { steering = -1; }
    if (event.key =='d' || event.key = 'D') { steering = 1; }
  }
  
  if (handled) {
    // Suppress "double action" if event handled
    event.preventDefault();
  }
}, true);

document.addEventListener("keyup", function (event) {
  if (event.defaultPrevented) {
    return; // Should do nothing if the default action has been cancelled
  }
  var handled = false;
  if (event.key !== undefined) {
    handled = true;
		if (event.key =='w' || event.key = 'W') { throttle = false; } 
    if (event.key =='s' || event.key = 'S') { brakes = false; }
    if (event.key =='a' || event.key = 'A') { steering = 0; }
    if (event.key =='d' || event.key = 'D') { steering = 0; }
  }
  
  if (handled) {
    // Suppress "double action" if event handled
    event.preventDefault();
  }
}, true);

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

resizeCanvasToDisplaySize(canvas);

ctx.fillStyle = 'blue'; // initialize canvas
ctx.fillRect(0, 0, canvas.width, canvas.height);

ctx.fillStyle = 'red';
ctx.beginPath();
ctx.moveTo(120, 100);
ctx.lineTo(100, 150);
ctx.lineTo(50, 150);
ctx.lineTo(50, 100);
ctx.closePath();
ctx.fill();

function resizeCanvasToDisplaySize(canvas) {
  // Lookup the size the browser is displaying the canvas in CSS pixels.
  const displayWidth  = canvas.clientWidth;
  const displayHeight = canvas.clientHeight;
  // Check if the canvas is not the same size.
  const needResize = canvas.width  !== displayWidth || canvas.height !== displayHeight;
  if (needResize) {
    // Make the canvas the same size
    canvas.width  = displayWidth;
    canvas.height = displayHeight;
  }
	return needResize;
}

</script>